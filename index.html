<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>مدار - منصة الإبداع والتقنية | رسمي ومطور</title>

    <!-- SEO Meta Tags -->
    <meta
      name="description"
      content="مدار منصة إبداعية تجمع التقنية والفنون البصرية. حلول مبتكرة، تصميم عصري، دعم متعدد اللغات وتجربة مستخدم فريدة."
    />
    <meta
      name="keywords"
      content="مدار, برمجة, تصميم, محتوى, تصوير, إبداع, تقنية, Dark Mode, Chatbot"
    />
    <meta name="author" content="ظلان" />
    <meta name="theme-color" content="#16264A" />

    <!-- Social Media Preview -->
    <meta property="og:title" content="مدار - منصة الإبداع والتقنية" />
    <meta
      property="og:description"
      content="منصة إبداعية تجمع التقنية والفنون البصرية بحلول مبتكرة وتجربة مستخدم متطورة."
    />
    <meta property="og:image" content="logo.png" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://yourdomain.com" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="مدار - منصة الإبداع والتقنية" />
    <meta
      name="twitter:description"
      content="منصة إبداعية تجمع التقنية والفنون البصرية بحلول مبتكرة وتجربة مستخدم متطورة."
    />
    <meta name="twitter:image" content="logo.png" />

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json" />

    <!-- خطوط البراند -->
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo&family=Montserrat&family=Roboto+Slab&family=Tajawal:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* ===== Variables & Reset ===== */
      :root {
        --yellow: #f5c540;
        --pink: #cd72ae;
        --navy: #16264a;
        --navy-dark: #0f1a34;
        --text-light: #fafafa;
        --text-secondary: #e6e6e6;
        --bg-light: #fefefe;
        --shadow: rgba(0, 0, 0, 0.2);
        --transition: 0.35s ease-in-out;
        --border-radius: 12px;

        --dark-bg: #12151f;
        --dark-text: #e1e1e1;
        --dark-yellow: #f5d742;
        --dark-pink: #d07ab9;
        --dark-shadow: rgba(0,0,0,0.7);

        --glass-bg: rgba(255,255,255,0.1);
        --glass-border: rgba(255,255,255,0.3);
        --glass-shadow: rgba(255,255,255,0.15);
      }
      * {
        margin: 0; padding: 0; box-sizing: border-box;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        font-family: "Tajawal", "Cairo", sans-serif;
        background: var(--bg-light);
        color: var(--navy);
        user-select: none;
        transition: background 0.6s, color 0.6s;
        overflow-x: hidden;
      }
      body.dark {
        background: var(--dark-bg);
        color: var(--dark-text);
      }
      a {
        color: var(--yellow);
        text-decoration: none;
        transition: color var(--transition);
      }
      a:hover, a:focus {
        color: var(--pink);
        outline: none;
      }
      body.dark a {
        color: var(--dark-yellow);
      }
      body.dark a:hover, body.dark a:focus {
        color: var(--dark-pink);
      }

      /* ===== Loader ===== */
      #loader {
        position: fixed;
        inset: 0;
        background: var(--navy);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 99999;
        flex-direction: column;
        user-select: none;
      }
      #loader svg {
        width: 120px;
        height: 120px;
        fill: var(--yellow);
        animation: spin 2.5s linear infinite;
      }
      #loader-text {
        font-family: 'Roboto Slab', serif;
        color: var(--yellow);
        font-weight: 900;
        font-size: 1.5rem;
        margin-top: 12px;
        letter-spacing: 0.2em;
        animation: typewriter 3s steps(20) forwards;
        white-space: nowrap;
        overflow: hidden;
        border-right: 3px solid var(--yellow);
      }
      @keyframes spin {
        0% {transform: rotate(0deg);}
        100% {transform: rotate(360deg);}
      }
      @keyframes typewriter {
        from {width: 0;}
        to {width: 100%;}
      }

      /* ===== Header ===== */
      header {
        position: fixed;
        top: 0; right: 0; left: 0;
        background: var(--navy);
        box-shadow: 0 3px 10px var(--shadow);
        padding: 15px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 9999;
        transition: background 0.4s ease;
        user-select: none;
      }
      header.scrolled {
        background: var(--navy-dark);
        box-shadow: 0 5px 18px var(--shadow);
      }
      body.dark header {
        background: var(--dark-bg);
        box-shadow: 0 3px 12px var(--dark-shadow);
      }
      body.dark header.scrolled {
        background: var(--navy-dark);
        box-shadow: 0 5px 18px var(--dark-shadow);
      }
      header img {
        width: 60px;
        cursor: pointer;
        transition: transform 0.3s ease;
        border-radius: 50%;
        box-shadow: 0 0 8px var(--yellow);
      }
      body.dark header img {
        box-shadow: 0 0 8px var(--dark-yellow);
      }
      header img:hover {
        transform: rotate(15deg) scale(1.1);
      }
      nav {
        display: flex;
        gap: 22px;
        font-weight: 700;
        font-size: 1.1rem;
      }
      nav a {
        color: var(--text-light);
        position: relative;
        padding-bottom: 4px;
        cursor: pointer;
      }
      nav a::after {
        content: "";
        position: absolute;
        bottom: 0;
        right: 0;
        left: 0;
        height: 3px;
        background: var(--yellow);
        border-radius: 3px;
        transform: scaleX(0);
        transform-origin: right;
        transition: transform 0.3s ease;
      }
      nav a:hover::after,
      nav a:focus::after {
        transform: scaleX(1);
        transform-origin: left;
      }
      body.dark nav a {
        color: var(--dark-text);
      }
      body.dark nav a::after {
        background: var(--dark-yellow);
      }
      body.dark nav a:hover::after,
      body.dark nav a:focus::after {
        background: var(--dark-pink);
      }

      /* ===== Dark/Light Mode Toggle Button ===== */
      #dark-mode-toggle {
        position: fixed;
        bottom: 90px;
        left: 30px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: var(--pink);
        border: none;
        cursor: pointer;
        box-shadow: 0 6px 20px rgba(197,114,174,0.8);
        color: var(--yellow);
        font-size: 26px;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 10002;
        transition: background 0.3s ease;
        user-select: none;
      }
      #dark-mode-toggle:hover {
        background: var(--yellow);
        color: var(--navy);
      }

      /* ===== Hero Section ===== */
      #home {
        height: 100vh;
        background: linear-gradient(135deg, var(--yellow), var(--pink));
        color: var(--navy);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 0 20px;
        text-align: center;
        user-select: text;
        font-family: "Roboto Slab", serif;
        position: relative;
        overflow: hidden;
        transition: background 0.5s, color 0.5s;
        /* Parallax background */
        background-attachment: fixed;
      }
      body.dark #home {
        background: linear-gradient(135deg, var(--dark-yellow), var(--dark-pink));
        color: var(--dark-bg);
      }
      #home h1 {
        font-size: 4rem;
        font-weight: 900;
        margin-bottom: 18px;
        letter-spacing: 0.15em;
        text-shadow: 0 3px 6px rgba(22, 38, 74, 0.6);
        user-select: text;
        animation: typewriter 3s steps(20) forwards;
        white-space: nowrap;
        overflow: hidden;
        border-right: 3px solid var(--yellow);
      }
      body.dark #home h1 {
        border-right-color: var(--dark-yellow);
        text-shadow: 0 0 10px var(--dark-yellow);
      }
      #home p {
        font-size: 1.4rem;
        font-weight: 600;
        max-width: 700px;
        margin-bottom: 30px;
        color: var(--navy-dark);
        user-select: text;
        animation: fadeInUp 1.5s ease forwards 0.4s;
        opacity: 0;
        transform: translateY(30px);
      }
      body.dark #home p {
        color: var(--dark-text);
      }
      #home button {
        font-size: 1.3rem;
        background: var(--navy);
        color: var(--yellow);
        border: none;
        padding: 15px 50px;
        border-radius: 40px;
        cursor: pointer;
        font-weight: 800;
        box-shadow: 0 6px 20px rgba(22, 38, 74, 0.7);
        transition: background 0.3s ease, transform 0.3s ease;
        user-select: none;
        animation: fadeInUp 1.5s ease forwards 0.7s;
        opacity: 0;
        transform: translateY(30px);
        backdrop-filter: blur(10px);
        border: 1.5px solid var(--yellow);
        box-shadow:
          0 0 0 0 var(--yellow),
          inset 0 0 15px var(--yellow);
      }
      #home button:hover,
      #home button:focus {
        background: var(--pink);
        transform: scale(1.06);
        outline: none;
        box-shadow:
          0 0 12px 4px var(--pink),
          inset 0 0 20px var(--pink);
      }
      body.dark #home button {
        background: var(--dark-bg);
        color: var(--dark-yellow);
        box-shadow:
          0 0 0 0 var(--dark-yellow),
          inset 0 0 15px var(--dark-yellow);
        border: 1.5px solid var(--dark-yellow);
      }
      body.dark #home button:hover,
      body.dark #home button:focus {
        background: var(--dark-pink);
        color: var(--dark-bg);
        box-shadow:
          0 0 15px 6px var(--dark-pink),
          inset 0 0 20px var(--dark-pink);
      }

      /* ===== Animations ===== */
      @keyframes typewriter {
        from {width: 0;}
        to {width: 100%;}
      }
      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* ===== Parallax Background - on scroll ===== */
      window.addEventListener && window.addEventListener('scroll', () => {
        const home = document.getElementById('home');
        let offset = window.pageYOffset;
        home.style.backgroundPositionY = offset * 0.5 + "px";
      });

      /* ===== Glassmorphism & Neumorphism cards and buttons ===== */
      .card, section button {
        background: var(--glass-bg);
        backdrop-filter: blur(12px);
        border-radius: var(--border-radius);
        border: 1.5px solid var(--glass-border);
        box-shadow:
          5px 5px 15px rgba(0,0,0,0.1),
          -5px -5px 15px rgba(255,255,255,0.4);
        color: var(--navy);
        transition: all 0.4s ease;
        cursor: pointer;
        user-select: none;
      }
      body.dark .card, body.dark section button {
        background: rgba(25,25,25,0.5);
        border-color: rgba(255,255,255,0.15);
        box-shadow:
          5px 5px 15px rgba(0,0,0,0.6),
          -5px -5px 15px rgba(255,255,255,0.15);
        color: var(--dark-yellow);
      }
      .card:hover, section button:hover {
        box-shadow:
          8px 8px 30px rgba(0,0,0,0.15),
          -8px -8px 30px rgba(255,255,255,0.5);
        transform: translateY(-5px) scale(1.03);
        color: var(--pink);
      }
      body.dark .card:hover, body.dark section button:hover {
        box-shadow:
          8px 8px 30px rgba(0,0,0,0.8),
          -8px -8px 30px rgba(255,255,255,0.2);
        transform: translateY(-5px) scale(1.03);
        color: var(--dark-pink);
      }

      /* ===== Gradient Animated Backgrounds ===== */
      @keyframes gradientBG {
        0% {background-position:0% 50%;}
        50% {background-position:100% 50%;}
        100% {background-position:0% 50%;}
      }
      .gradient-animated {
        background: linear-gradient(270deg, var(--yellow), var(--pink), var(--navy));
        background-size: 600% 600%;
        animation: gradientBG 18s ease infinite;
        color: var(--navy-dark);
        user-select: text;
        border-radius: var(--border-radius);
        padding: 20px;
        box-shadow: 0 8px 25px rgba(197,114,174,0.4);
      }
      body.dark .gradient-animated {
        background: linear-gradient(270deg, var(--dark-yellow), var(--dark-pink), var(--dark-bg));
        color: var(--dark-yellow);
        box-shadow: 0 8px 25px var(--dark-shadow);
      }

      /* ===== Particles Background Canvas ===== */
      #particles-js {
        position: fixed;
        top: 0; left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        user-select: none;
        pointer-events: none;
      }

      /* ===== Testimonials Carousel ===== */
      #testimonials {
        position: relative;
        background: var(--navy);
        color: var(--yellow);
        padding: 100px 20px;
        user-select: none;
        overflow: hidden;
        transition: background 0.5s, color 0.5s;
      }
      body.dark #testimonials {
        background: var(--dark-bg);
        color: var(--dark-yellow);
      }
      .testimonials-container {
        max-width: 600px;
        margin: 0 auto;
        position: relative;
        height: 180px;
      }
      .testimonial {
        position: absolute;
        top: 0; left: 0;
        width: 100%;
        opacity: 0;
        transition: opacity 0.8s ease, transform 0.8s ease;
        transform: translateX(100%);
        font-style: italic;
        font-size: 1.25rem;
        box-shadow: 0 6px 25px rgba(245, 197, 64, 0.5);
        padding: 25px 30px;
        border-radius: var(--border-radius);
        background: rgba(197,114,174,0.3);
        color: var(--yellow);
        user-select: text;
      }
      body.dark .testimonial {
        background: rgba(50, 25, 70, 0.6);
        color: var(--dark-yellow);
        box-shadow: 0 6px 25px var(--dark-shadow);
      }
      .testimonial.active {
        opacity: 1;
        transform: translateX(0);
        position: relative;
      }
      .testimonial p {
        margin-bottom: 10px;
      }
      .testimonial span {
        font-size: 0.9rem;
        color: #eee;
      }
      body.dark .testimonial span {
        color: #ccc;
      }
      .controls {
        margin-top: 20px;
        text-align: center;
        user-select: none;
      }
      .controls button {
        background: var(--yellow);
        color: var(--navy);
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        margin: 0 5px;
        cursor: pointer;
        font-size: 1.2rem;
        font-weight: bold;
        transition: background 0.3s, transform 0.2s;
      }
      .controls button:hover {
        background: var(--pink);
        color: var(--bg-light);
        transform: scale(1.1);
      }
      body.dark .controls button {
        background: var(--dark-yellow);
        color: var(--dark-bg);
      }
      body.dark .controls button:hover {
        background: var(--dark-pink);
        color: var(--dark-bg);
      }
      .dots {
        margin-top: 15px;
        text-align: center;
        user-select: none;
      }
      .dot {
        display: inline-block;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #777;
        margin: 0 4px;
        cursor: pointer;
        transition: background 0.3s;
      }
      .dot.active {
        background: var(--yellow);
      }
      body.dark .dot {
        background: #444;
      }
      body.dark .dot.active {
        background: var(--dark-yellow);
      }

      /* ===== Timeline Section ===== */
      #timeline {
        max-width: 900px;
        margin: 0 auto;
        padding: 40px 15px 100px;
        user-select: none;
      }
      #timeline h2 {
        margin-bottom: 40px;
      }
      .timeline-container {
        position: relative;
        padding-left: 40px;
        border-left: 3px solid var(--pink);
      }
      body.dark .timeline-container {
        border-left-color: var(--dark-pink);
      }
      .timeline-step {
        position: relative;
        margin-bottom: 40px;
        padding-left: 30px;
        transition: transform 0.5s ease, opacity 0.5s ease;
        opacity: 0;
        transform: translateX(50px);
      }
      .timeline-step.visible {
        opacity: 1;
        transform: translateX(0);
      }
      .timeline-step::before {
        content: "";
        position: absolute;
        left: -22px;
        top: 4px;
        width: 15px;
        height: 15px;
        background: var(--pink);
        border-radius: 50%;
        box-shadow: 0 0 10px var(--pink);
      }
      body.dark .timeline-step::before {
        background: var(--dark-pink);
        box-shadow: 0 0 10px var(--dark-pink);
      }
      .timeline-step h3 {
        margin-bottom: 6px;
        font-weight: 900;
        color: var(--navy-dark);
      }
      body.dark .timeline-step h3 {
        color: var(--dark-yellow);
      }
      .timeline-step p {
        font-weight: 600;
        color: var(--navy-dark);
      }
      body.dark .timeline-step p {
        color: var(--dark-text);
      }

      /* ===== Pricing Plans ===== */
      #pricing {
        max-width: 1000px;
        margin: 0 auto 100px;
        padding: 0 15px;
        user-select: none;
      }
      #pricing h2 {
        margin-bottom: 40px;
      }
      .pricing-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px,1fr));
        gap: 30px;
      }
      .pricing-card {
        background: var(--glass-bg);
        backdrop-filter: blur(15px);
        border-radius: var(--border-radius);
        border: 1.5px solid var(--glass-border);
        box-shadow:
          5px 5px 15px rgba(0,0,0,0.1),
          -5px -5px 15px rgba(255,255,255,0.4);
        padding: 30px 20px;
        text-align: center;
        transition: all 0.4s ease;
        color: var(--navy);
        cursor: pointer;
      }
      body.dark .pricing-card {
        background: rgba(25,25,25,0.5);
        border-color: rgba(255,255,255,0.15);
        box-shadow:
          5px 5px 15px rgba(0,0,0,0.6),
          -5px -5px 15px rgba(255,255,255,0.15);
        color: var(--dark-yellow);
      }
      .pricing-card:hover {
        transform: translateY(-8px) scale(1.05);
        box-shadow:
          10px 10px 30px rgba(197,114,174,0.6),
          -10px -10px 30px rgba(245,197,64,0.5);
        color: var(--pink);
      }
      body.dark .pricing-card:hover {
        box-shadow:
          10px 10px 40px var(--dark-pink),
          -10px -10px 40px var(--dark-yellow);
        color: var(--dark-pink);
      }
      .pricing-card h3 {
        font-size: 1.8rem;
        margin-bottom: 10px;
        font-family: 'Roboto Slab', serif;
        font-weight: 900;
      }
      .pricing-card .price {
        font-size: 2.6rem;
        font-weight: 900;
        margin-bottom: 20px;
        color: var(--yellow);
        text-shadow: 0 0 8px var(--yellow);
      }
      body.dark .pricing-card .price {
        color: var(--dark-yellow);
        text-shadow: 0 0 8px var(--dark-yellow);
      }
      .pricing-card ul {
        list-style: none;
        margin-bottom: 20px;
        font-weight: 600;
        text-align: left;
      }
      .pricing-card ul li {
        margin: 8px 0;
      }
      .pricing-card button {
        background: var(--navy);
        border: none;
        color: var(--yellow);
        border-radius: 35px;
        padding: 12px 30px;
        font-weight: 800;
        cursor: pointer;
        box-shadow: 0 6px 20px rgba(22,38,74,0.7);
        transition: background 0.3s ease, transform 0.3s ease;
      }
      .pricing-card button:hover {
        background: var(--pink);
        transform: scale(1.07);
      }
      body.dark .pricing-card button {
        background: var(--dark-bg);
        color: var(--dark-yellow);
        box-shadow: 0 6px 20px var(--dark-shadow);
      }
      body.dark .pricing-card button:hover {
        background: var(--dark-pink);
        color: var(--dark-bg);
      }

      /* ===== Statistics Section ===== */
      #statistics {
        background: var(--navy);
        padding: 80px 20px;
        color: var(--yellow);
        text-align: center;
        user-select: none;
        transition: background 0.5s, color 0.5s;
      }
      body.dark #statistics {
        background: var(--dark-bg);
        color: var(--dark-yellow);
      }
      #statistics h2 {
        margin-bottom: 50px;
        font-size: 2.8rem;
        font-family: 'Montserrat', sans-serif;
        font-weight: 900;
      }
      .stats-grid {
        display: flex;
        justify-content: center;
        gap: 60px;
        flex-wrap: wrap;
      }
      .stat-box {
        font-size: 2.8rem;
        font-weight: 900;
        min-width: 140px;
        user-select: text;
        cursor: default;
        text-shadow: 0 0 10px rgba(245,197,64,0.8);
      }
      .stat-label {
        font-size: 1.2rem;
        font-weight: 600;
        margin-top: 5px;
        letter-spacing: 0.1em;
        user-select: text;
      }

      /* ===== Blog Section ===== */
      #blog {
        max-width: 1000px;
        margin: 0 auto 100px;
        padding: 0 20px;
        user-select: none;
      }
      #blog h2 {
        margin-bottom: 40px;
      }
      .blog-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px,1fr));
        gap: 28px;
      }
      .blog-card {
        background: var(--glass-bg);
        backdrop-filter: blur(15px);
        border-radius: var(--border-radius);
        border: 1.5px solid var(--glass-border);
        box-shadow:
          5px 5px 15px rgba(0,0,0,0.1),
          -5px -5px 15px rgba(255,255,255,0.4);
        padding: 25px 18px;
        transition: all 0.4s ease;
        color: var(--navy);
        cursor: pointer;
        user-select: text;
      }
      body.dark .blog-card {
        background: rgba(25,25,25,0.5);
        border-color: rgba(255,255,255,0.15);
        box-shadow:
          5px 5px 15px rgba(0,0,0,0.6),
          -5px -5px 15px rgba(255,255,255,0.15);
        color: var(--dark-yellow);
      }
      .blog-card:hover {
        transform: translateY(-8px) scale(1.05);
        box-shadow:
          10px 10px 30px rgba(197,114,174,0.6),
          -10px -10px 30px rgba(245,197,64,0.5);
        color: var(--pink);
      }
      body.dark .blog-card:hover {
        box-shadow:
          10px 10px 40px var(--dark-pink),
          -10px -10px 40px var(--dark-yellow);
        color: var(--dark-pink);
      }
      .blog-card h3 {
        font-size: 1.6rem;
        margin-bottom: 8px;
        font-family: 'Roboto Slab', serif;
        font-weight: 900;
      }
      .blog-card p {
        font-weight: 600;
      }

      /* ===== Call to Action Section ===== */
      #cta {
        background: linear-gradient(135deg, var(--yellow), var(--pink));
        padding: 60px 20px;
        color: var(--navy);
        text-align: center;
        font-family: 'Roboto Slab', serif;
        user-select: text;
        border-radius: var(--border-radius);
        margin: 60px auto;
        max-width: 900px;
        box-shadow: 0 10px 40px rgba(197,114,174,0.5);
        transition: background 0.5s, color 0.5s;
      }
      body.dark #cta {
        background: linear-gradient(135deg, var(--dark-yellow), var(--dark-pink));
        color: var(--dark-bg);
        box-shadow: 0 10px 40px var(--dark-shadow);
      }
      #cta h2 {
        font-size: 2.8rem;
        margin-bottom: 20px;
        font-weight: 900;
      }
      #cta button {
        font-size: 1.3rem;
        background: var(--navy);
        color: var(--yellow);
        border: none;
        padding: 16px 60px;
        border-radius: 40px;
        cursor: pointer;
        font-weight: 900;
        box-shadow: 0 7px 24px rgba(22, 38, 74, 0.75);
        transition: background 0.3s ease, transform 0.3s ease;
        user-select: none;
      }
      #cta button:hover,
      #cta button:focus {
        background: var(--pink);
        transform: scale(1.07);
        outline: none;
      }
      body.dark #cta button {
        background: var(--dark-bg);
        color: var(--dark-yellow);
        box-shadow: 0 7px 24px var(--dark-shadow);
      }
      body.dark #cta button:hover,
      body.dark #cta button:focus {
        background: var(--dark-pink);
        color: var(--dark-bg);
      }

      /* ===== Contact Form ===== */
      #contact form {
        max-width: 600px;
        margin: 0 auto;
        text-align: right;
        user-select: text;
      }
      #contact form label {
        display: block;
        margin: 15px 0 6px;
        font-weight: 700;
        font-size: 1rem;
        color: var(--navy-dark);
      }
      body.dark #contact form label {
        color: var(--dark-yellow);
      }
      #contact form input, #contact form textarea {
        width: 100%;
        padding: 12px 15px;
        border-radius: 10px;
        border: 1.5px solid var(--pink);
        font-size: 1.1rem;
        font-family: "Tajawal", sans-serif;
        transition: box-shadow 0.3s ease;
        resize: vertical;
        background: var(--bg-light);
        color: var(--navy);
      }
      body.dark #contact form input,
      body.dark #contact form textarea {
        background: var(--dark-bg);
        border-color: var(--dark-pink);
        color: var(--dark-yellow);
      }
      #contact form input:focus,
      #contact form textarea:focus {
        box-shadow: 0 0 10px var(--pink);
        outline: none;
        border-color: var(--pink);
      }
      body.dark #contact form input:focus,
      body.dark #contact form textarea:focus {
        box-shadow: 0 0 12px var(--dark-pink);
        border-color: var(--dark-pink);
      }
      #contact form button {
        margin-top: 20px;
        background: var(--navy);
        color: var(--yellow);
        font-weight: 900;
        font-size: 1.2rem;
        border-radius: 40px;
        padding: 14px 40px;
        border: none;
        cursor: pointer;
        box-shadow: 0 6px 20px rgba(22, 38, 74, 0.7);
        transition: background 0.3s ease, transform 0.3s ease;
        user-select: none;
      }
      #contact form button:hover,
      #contact form button:focus {
        background: var(--pink);
        transform: scale(1.07);
        outline: none;
      }
      body.dark #contact form button {
        background: var(--dark-bg);
        color: var(--dark-yellow);
        box-shadow: 0 6px 20px var(--dark-shadow);
      }
      body.dark #contact form button:hover,
      body.dark #contact form button:focus {
        background: var(--dark-pink);
        color: var(--dark-bg);
      }

      /* ===== Particles.js container ===== */
      #particles-js {
        position: fixed;
        top: 0; left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        pointer-events: none;
      }

      /* ===== Footer ===== */
      footer {
        background: var(--navy-dark);
        color: #aaa;
        padding: 18px 20px;
        text-align: center;
        font-size: 0.9rem;
        letter-spacing: 0.05em;
        user-select: none;
        border-top: 1px solid var(--navy);
        transition: background 0.5s, color 0.5s;
      }
      body.dark footer {
        background: var(--dark-bg);
        color: var(--dark-text);
        border-color: var(--dark-shadow);
      }

      /* Responsive */
      @media (max-width: 900px) {
        nav {
          gap: 14px;
          font-size: 1rem;
        }
        #home h1 {
          font-size: 3.4rem;
        }
        #home p {
          font-size: 1.15rem;
        }
        #services .card, .pricing-card, .blog-card {
          font-size: 1.1rem;
        }
        .grid {
          grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
        }
        #portfolio img {
          width: 220px;
        }
        #team .team-member img {
          width: 100px;
          height: 100px;
        }
        #faq-ai input {
          width: 60%;
        }
        #faq-ai button {
          width: 30%;
        }
      }
      @media (max-width: 480px) {
        #home h1 {
          font-size: 2.8rem;
        }
        #home button {
          padding: 14px 36px;
          font-size: 1.1rem;
        }
        nav {
          font-size: 0.9rem;
        }
        #faq-ai input {
          width: 100%;
          margin: 8px 0 12px;
        }
        #faq-ai button {
          width: 100%;
        }
        #faq-ai {
          margin-top: 24px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Loader -->
    <div id="loader" aria-label="جارٍ تحميل الموقع">
      <svg viewBox="0 0 64 64" aria-hidden="true" role="img">
        <circle
          cx="32"
          cy="32"
          r="28"
          stroke="currentColor"
          stroke-width="4"
          fill="none"
        />
        <path
          d="M32 4a28 28 0 0 1 0 56"
          stroke="currentColor"
          stroke-width="4"
          fill="none"
          stroke-linecap="round"
        />
      </svg>
      <div id="loader-text">مدار</div>
    </div>

    <!-- Particles.js -->
    <div id="particles-js" aria-hidden="true"></div>

    <!-- Dark Mode Toggle -->
    <button id="dark-mode-toggle" aria-label="تبديل وضع الإضاءة">🌙</button>

    <!-- Header -->
    <header role="banner" aria-label="رأس الصفحة">
      <img src="logo1.png" alt="شعار مدار" tabindex="0" />
      <nav role="navigation" aria-label="القائمة الرئيسية">
        <a href="#home" tabindex="0">الرئيسية</a>
        <a href="#concept" tabindex="0">الكونسبت</a>
        <a href="#logo" tabindex="0">الشعار</a>
        <a href="#colors" tabindex="0">الألوان</a>
        <a href="#fonts" tabindex="0">الخطوط</a>
        <a href="#services" tabindex="0">الخدمات</a>
        <a href="#portfolio" tabindex="0">الأعمال</a>
        <a href="#testimonials" tabindex="0">آراء العملاء</a>
        <a href="#team" tabindex="0">الفريق</a>
        <a href="#timeline" tabindex="0">مسيرة المشروع</a>
        <a href="#pricing" tabindex="0">الخطط والأسعار</a>
        <a href="#blog" tabindex="0">المدونة</a>
        <a href="#statistics" tabindex="0">الإحصائيات</a>
        <a href="#cta" tabindex="0">تواصل معنا</a>
        <a href="#faq" tabindex="0">الأسئلة</a>
        <a href="#contact" tabindex="0">تواصل</a>
        <a
          href="#"
          id="dzlan-access-link"
          tabindex="0"
          aria-label="دخول قسم ظلان"
          >ظلان (للمطور)</a
        >
      </nav>
    </header>

    <!-- Home / Hero -->
    <section
      id="home"
      role="region"
      aria-label="الرئيسية"
      class="gradient-animated"
    >
      <h1>مدار</h1>
      <p>
        منصة إبداعية تجمع بين التقنية والفنون البصرية لتحويل الأفكار إلى مشاريع
        عملية مؤثرة.
      </p>
      <button
        aria-label="تواصل معنا"
        onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'})"
      >
        تواصل معنا
      </button>
    </section>

    <!-- Concept -->
    <section id="concept" role="region" aria-label="الكونسبت">
      <div class="container">
        <h2>الكونسبت</h2>
        <p>
          الشعار يعكس هوية <strong>مدار</strong> كمزيج فريد يجمع بين العقل
          والإبداع والابتكار والتقنية والفن والتعبير. يمثل رؤية شاملة تهدف إلى
          توحيد التقنية والفنون لإنتاج حلول متكاملة ومبتكرة.
        </p>
        <p>
          رؤيتنا هي خلق بيئة متكاملة تدعم الأفكار وتحولها إلى مشاريع ملهمة ذات
          أثر إيجابي.
        </p>
        <p>
          رسالتنا: تمكين الأفراد والشركات من تحويل أفكارهم الإبداعية إلى مشاريع
          عملية من خلال الدمج بين التقنية والفنون وتوفير بيئة ملهمة تدعم
          الابتكار وتحقق أثر إيجابي.
        </p>
        <p>
          هدفنا: أن تصبح <strong>مدار</strong> الوجهة الأولى للإبداع الرقمي في
          المنطقة من خلال تقديم حلول شاملة ومبتكرة تجمع بين التقنية والفنون
          وتبني مجتمعاً متكاملاً من المبدعين.
        </p>
      </div>
    </section>

    <!-- Logo -->
    <section id="logo" role="region" aria-label="الشعار">
      <h2>الشعار</h2>
      <p class="lead">
        الشعار يعكس هوية مدار كمزيج فريد يجمع العقل والإبداع والابتكار.
      </p>
      <img src="logo.png" alt="شعار مدار" loading="lazy" />
      <p>
        مكونات الشعار تمثل توحيد التقنية والفنون لإنتاج حلول مبتكرة. استخدام
        الباترن المستوحى من عناصر الشعار كعنصر خلفي يعزز الهوية البصرية مع
        الحفاظ على البساطة والانسجام.
      </p>
    </section>

    <!-- Colors -->
    <section id="colors" role="region" aria-label="الألوان">
      <h2>الألوان</h2>
      <div class="color-palette" aria-label="لوحة ألوان البراند">
        <div class="color-box color-yellow" aria-label="لون أصفر - F5C540">
          <span>#F5C540</span>
        </div>
        <div class="color-box color-pink" aria-label="لون وردي - CD72AE">
          <span>#CD72AE</span>
        </div>
        <div class="color-box color-navy" aria-label="لون كحلي - 16264A">
          <span>#16264A</span>
        </div>
      </div>
    </section>

    <!-- Fonts -->
    <section id="fonts" role="region" aria-label="الخطوط">
      <h2>الخطوط</h2>
      <div class="font-sample" style="font-family: 'Tajawal', sans-serif">
        العربية - Tajawal: "الهوية البصرية تعكس شخصية العلامة."
      </div>
      <div class="font-sample" style="font-family: 'Cairo', sans-serif">
        العربية - Cairo: "الهوية البصرية تعكس شخصية العلامة."
      </div>
      <div class="font-sample" style="font-family: 'Roboto Slab', serif">
        English - Roboto Slab: "Visual identity reflects the personality brand."
      </div>
      <div class="font-sample" style="font-family: 'Montserrat', sans-serif">
        English - Montserrat: "Visual identity reflects the personality brand."
      </div>
    </section>

    <!-- Services -->
    <section id="services" role="region" aria-label="الخدمات">
      <h2>خدماتنا</h2>
      <div class="grid">
        <div class="card" tabindex="0" aria-label="خدمة البرمجة">
          <h3>البرمجة</h3>
          <p>مواقع وتطبيقات بأحدث التقنيات.</p>
        </div>
        <div class="card" tabindex="0" aria-label="خدمة التصميم">
          <h3>التصميم</h3>
          <p>جرافيك وهوية بصرية احترافية.</p>
        </div>
        <div class="card" tabindex="0" aria-label="خدمة المحتوى">
          <h3>المحتوى</h3>
          <p>كتابة وصناعة محتوى إبداعي.</p>
        </div>
        <div class="card" tabindex="0" aria-label="خدمة التصوير">
          <h3>التصوير</h3>
          <p>تصوير فوتوغرافي وفيديو مبدع.</p>
        </div>
      </div>
    </section>

    <!-- Portfolio -->
    <section id="portfolio" role="region" aria-label="معرض الأعمال">
      <h2>معرض أعمالنا</h2>
      <div class="grid">
        <img src="logo.png" alt="عمل 1" loading="lazy" />
        <img src="logo.png" alt="عمل 2" loading="lazy" />
        <img src="logo.png" alt="عمل 3" loading="lazy" />
      </div>
    </section>

    <!-- Testimonials -->
    <section id="testimonials" role="region" aria-label="آراء العملاء">
      <h2>آراء العملاء</h2>
      <div class="testimonials-container">
        <div class="testimonial active" tabindex="0">
          <p>"خدمة ممتازة ودقة عالية."</p>
          <span>- عميل 1</span>
        </div>
        <div class="testimonial" tabindex="0">
          <p>"إبداع يفوق التوقعات."</p>
          <span>- عميل 2</span>
        </div>
        <div class="testimonial" tabindex="0">
          <p>"تجربة رائعة واحترافية."</p>
          <span>- عميل 3</span>
        </div>
      </div>
      <div class="controls">
        <button class="prev" aria-label="السابق">⟨</button>
        <button class="next" aria-label="التالي">⟩</button>
      </div>
      <div class="dots">
        <span class="dot active" aria-label="شهادة 1"></span>
        <span class="dot" aria-label="شهادة 2"></span>
        <span class="dot" aria-label="شهادة 3"></span>
      </div>
    </section>

    <!-- Timeline Section -->
    <section id="timeline" role="region" aria-label="مسيرة المشروع">
      <h2>مسيرة المشروع</h2>
      <div class="timeline-container">
        <div class="timeline-step">
          <h3>2022 - البداية</h3>
          <p>تأسيس مدار وتحديد الرؤية والرسالة.</p>
        </div>
        <div class="timeline-step">
          <h3>2023 - التطوير</h3>
          <p>إطلاق الموقع الرسمي وتطوير الخدمات.</p>
        </div>
        <div class="timeline-step">
          <h3>2024 - التوسع</h3>
          <p>إضافة أقسام جديدة وتحسين تجربة المستخدم.</p>
        </div>
        <div class="timeline-step">
          <h3>2025 - المستقبل</h3>
          <p>التكامل مع الذكاء الاصطناعي وتحسين الأداء.</p>
        </div>
      </div>
    </section>

    <!-- Pricing Plans -->
    <section id="pricing" role="region" aria-label="الخطط والأسعار">
      <h2>الخطط والأسعار</h2>
      <div class="pricing-grid">
        <div class="pricing-card" tabindex="0">
          <h3>الخطة الأساسية</h3>
          <div class="price">$49 / شهريًا</div>
          <ul>
            <li>دعم فني محدود</li>
            <li>تصميم بسيط</li>
            <li>تحديثات شهرية</li>
          </ul>
          <button>اشترك الآن</button>
        </div>
        <div class="pricing-card" tabindex="0">
          <h3>الخطة المتقدمة</h3>
          <div class="price">$99 / شهريًا</div>
          <ul>
            <li>دعم فني كامل</li>
            <li>تصميم احترافي</li>
            <li>تحديثات أسبوعية</li>
            <li>إدارة المحتوى</li>
          </ul>
          <button>اشترك الآن</button>
        </div>
        <div class="pricing-card" tabindex="0">
          <h3>الخطة المميزة</h3>
          <div class="price">$199 / شهريًا</div>
          <ul>
            <li>دعم 24/7</li>
            <li>تصميم مخصص</li>
            <li>تحديثات يومية</li>
            <li>لوحة تحكم متقدمة</li>
            <li>تكامل مع الذكاء الاصطناعي</li>
          </ul>
          <button>اشترك الآن</button>
        </div>
      </div>
    </section>

    <!-- Blog Section -->
    <section id="blog" role="region" aria-label="المدونة">
      <h2>المدونة</h2>
      <div class="blog-grid">
        <div class="blog-card" tabindex="0">
          <h3>أحدث التقنيات في البرمجة</h3>
          <p>
            تعرف على التطورات الحديثة في عالم البرمجة وكيف تؤثر على المشاريع.
          </p>
        </div>
        <div class="blog-card" tabindex="0">
          <h3>تصميم الهوية البصرية</h3>
          <p>أهمية الهوية البصرية وكيفية تصميم شعار يعبر عن العلامة.</p>
        </div>
        <div class="blog-card" tabindex="0">
          <h3>نصائح لتصوير فوتوغرافي احترافي</h3>
          <p>أفضل النصائح لالتقاط صور مميزة تعزز العلامة التجارية.</p>
        </div>
      </div>
    </section>

    <!-- Statistics Section -->
    <section id="statistics" role="region" aria-label="الإحصائيات">
      <h2>إحصائياتنا</h2>
      <div class="stats-grid">
        <div>
          <div class="stat-box" data-target="100">0</div>
          <div class="stat-label">عميل</div>
        </div>
        <div>
          <div class="stat-box" data-target="50">0</div>
          <div class="stat-label">مشروع</div>
        </div>
        <div>
          <div class="stat-box" data-target="200">0</div>
          <div class="stat-label">محتوى</div>
        </div>
      </div>
    </section>

    <!-- Call To Action Section -->
    <section id="cta" role="region" aria-label="نداء للتواصل">
      <h2>هل أنت مستعد للبدء؟</h2>
      <button
        onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'})"
      >
        تواصل معنا الآن
      </button>
    </section>

    <!-- FAQ -->
    <section id="faq" role="region" aria-label="الأسئلة الشائعة">
      <h2>الأسئلة الشائعة</h2>
      <div class="faq" role="list">
        <div
          class="faq-item"
          role="listitem"
          tabindex="0"
          aria-expanded="false"
          aria-controls="faq1-answer"
          id="faq1"
        >
          <h4>ما هي مدار؟</h4>
          <p id="faq1-answer">منصة إبداعية تجمع التقنية والفن.</p>
        </div>
        <div
          class="faq-item"
          role="listitem"
          tabindex="0"
          aria-expanded="false"
          aria-controls="faq2-answer"
          id="faq2"
        >
          <h4>كيف أتواصل معكم؟</h4>
          <p id="faq2-answer">من خلال البريد أو واتساب.</p>
        </div>
      </div>

      <!-- AI-powered FAQ -->
      <div id="faq-ai" aria-label="اسأل النظام">
        <input
          type="text"
          id="faqInput"
          placeholder="اكتب سؤالك هنا..."
          aria-label="اكتب سؤالك"
        />
        <button id="faqAskBtn" aria-label="اسأل">اسأل</button>
        <div
          id="faq-ai-response"
          role="alert"
          aria-live="assertive"
          aria-atomic="true"
        ></div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" role="region" aria-label="تواصل معنا">
      <h2>تواصل معنا</h2>
      <form id="contact-form" novalidate>
        <label for="name">الاسم</label>
        <input
          type="text"
          id="name"
          name="name"
          required
          placeholder="ادخل اسمك"
          aria-required="true"
        />
        <label for="email">البريد الإلكتروني</label>
        <input
          type="email"
          id="email"
          name="email"
          required
          placeholder="ادخل بريدك الإلكتروني"
          aria-required="true"
        />
        <label for="message">الرسالة</label>
        <textarea
          id="message"
          name="message"
          rows="5"
          required
          placeholder="اكتب رسالتك هنا"
          aria-required="true"
        ></textarea>
        <button type="submit" aria-label="إرسال الرسالة">إرسال</button>
        <p
          id="form-feedback"
          role="alert"
          aria-live="polite"
          style="margin-top: 12px"
        ></p>
      </form>
    </section>

    <!-- قسم ظلان - المطور -->
    <section
      id="dzlan-section"
      role="region"
      aria-label="قسم ظلان المطور"
      style="display: none"
    >
      <h2>قسم ظلان - المطور</h2>
      <label for="darkmode-toggle">تفعيل الوضع الداكن</label>
      <input type="checkbox" id="darkmode-toggle" aria-checked="false" />
      <label for="show-backtotop-toggle">إظهار زر العودة للأعلى</label>
      <input
        type="checkbox"
        id="show-backtotop-toggle"
        aria-checked="true"
        checked
      />
      <label for="show-faqai-toggle">تفعيل نظام الأسئلة الذكي</label>
      <input
        type="checkbox"
        id="show-faqai-toggle"
        aria-checked="true"
        checked
      />
      <button id="dzlan-logout">تسجيل خروج</button>
    </section>

    <!-- Back to Top -->
    <button id="backToTop" aria-label="العودة للأعلى">↑</button>

    <footer>© 2025 مدار - جميع الحقوق محفوظة</footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

    <script>
      /* ===== Loader ===== */
      window.addEventListener("load", () => {
        const loader = document.getElementById("loader");
        loader.style.opacity = "0";
        setTimeout(() => (loader.style.display = "none"), 600);
      });

      /* ===== Dark Mode Toggle ===== */
      const darkToggleBtn = document.getElementById("dark-mode-toggle");
      darkToggleBtn.addEventListener("click", () => {
        document.body.classList.toggle("dark");
        updateDarkToggleIcon();
        saveSettings();
      });

      function updateDarkToggleIcon() {
        if (document.body.classList.contains("dark")) {
          darkToggleBtn.textContent = "☀️";
          darkToggleBtn.setAttribute("aria-label", "تبديل إلى الوضع الفاتح");
        } else {
          darkToggleBtn.textContent = "🌙";
          darkToggleBtn.setAttribute("aria-label", "تبديل إلى الوضع الداكن");
        }
      }
      updateDarkToggleIcon();

      /* ===== Parallax background handled by CSS background-attachment fixed. ===== */

      /* ===== Particles.js Initialization ===== */
      particlesJS("particles-js", {
        particles: {
          number: {
            value: 80,
            density: { enable: true, value_area: 800 },
          },
          color: { value: "#f5c540" },
          shape: { type: "circle" },
          opacity: { value: 0.3, random: false },
          size: { value: 3, random: true },
          move: {
            enable: true,
            speed: 1.5,
            direction: "none",
            random: false,
            straight: false,
            out_mode: "out",
          },
        },
        interactivity: {
          events: {
            onhover: { enable: true, mode: "grab" },
            onclick: { enable: true, mode: "push" },
          },
          modes: {
            grab: { distance: 140, line_linked: { opacity: 0.5 } },
            push: { particles_nb: 4 },
          },
        },
        retina_detect: true,
      });

      /* ===== Scroll Reveal Animation ===== */
      const revealElements = document.querySelectorAll(
        "section, .card, .testimonial, .pricing-card, .blog-card, .timeline-step"
      );
      function revealOnScroll() {
        const triggerBottom = window.innerHeight * 0.85;
        revealElements.forEach((el) => {
          const rect = el.getBoundingClientRect();
          if (rect.top < triggerBottom) {
            el.classList.add("visible");
          }
        });
      }
      window.addEventListener("scroll", revealOnScroll);
      revealOnScroll();

      /* ===== Testimonials Carousel ===== */
      const testimonials = document.querySelectorAll(".testimonial");
      const dots = document.querySelectorAll(".dot");
      const prev = document.querySelector(".prev");
      const next = document.querySelector(".next");
      let index = 0;

      function showTestimonial(i) {
        testimonials.forEach((t, idx) => {
          t.classList.toggle("active", idx === i);
          dots[idx].classList.toggle("active", idx === i);
        });
      }
      function nextTestimonial() {
        index = (index + 1) % testimonials.length;
        showTestimonial(index);
      }
      function prevTestimonial() {
        index = (index - 1 + testimonials.length) % testimonials.length;
        showTestimonial(index);
      }
      next.addEventListener("click", nextTestimonial);
      prev.addEventListener("click", prevTestimonial);
      dots.forEach((dot, i) =>
        dot.addEventListener("click", () => {
          index = i;
          showTestimonial(i);
        })
      );
      setInterval(nextTestimonial, 6000);

      /* ===== Statistics Counters ===== */
      const counters = document.querySelectorAll(".stat-box");
      const speed = 1500;
      function animateCounters() {
        counters.forEach((counter) => {
          const updateCount = () => {
            const target = +counter.getAttribute("data-target");
            const count = +counter.innerText;
            const increment = Math.ceil(target / (speed / 20));
            if (count < target) {
              counter.innerText =
                count + increment > target ? target : count + increment;
              setTimeout(updateCount, 20);
            } else {
              counter.innerText = target;
            }
          };
          updateCount();
        });
      }
      window.addEventListener(
        "scroll",
        () => {
          const statsSection = document.getElementById("statistics");
          const rect = statsSection.getBoundingClientRect();
          if (rect.top < window.innerHeight && rect.bottom >= 0) {
            animateCounters();
          }
        },
        { once: true }
      );

      /* ===== FAQ Toggle ===== */
      const faqItems = document.querySelectorAll(".faq-item");
      faqItems.forEach((item) => {
        const answer = item.querySelector("p");
        answer.style.maxHeight = "0";
        item.addEventListener("click", () => {
          const isActive = item.classList.contains("active");
          faqItems.forEach((i) => {
            i.classList.remove("active");
            i.setAttribute("aria-expanded", "false");
            i.querySelector("p").style.maxHeight = "0";
          });
          if (!isActive) {
            item.classList.add("active");
            item.setAttribute("aria-expanded", "true");
            answer.style.maxHeight = answer.scrollHeight + "px";
          }
        });
        item.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            item.click();
          }
        });
      });

      /* ===== AI FAQ Logic ===== */
      const faqInput = document.getElementById("faqInput");
      const faqAskBtn = document.getElementById("faqAskBtn");
      const faqResponse = document.getElementById("faq-ai-response");

      const qaDatabase = [
        {
          question: "ما هي مدار؟",
          answers: [
            "مدار هي منصة إبداعية تجمع التقنية والفن لتقديم حلول مبتكرة.",
          ],
        },
        {
          question: "كيف أبدأ مشروع مع مدار؟",
          answers: [
            "يمكنك التواصل معنا عبر البريد الإلكتروني أو واتساب لبدء مشروعك.",
          ],
        },
        {
          question: "هل تقدمون خدمات التصميم الجرافيكي؟",
          answers: [
            "نعم، نقدم تصميم جرافيكي وهوية بصرية احترافية تناسب علامتك التجارية.",
          ],
        },
        {
          question: "ما هي طرق التواصل معكم؟",
          answers: [
            "يمكنك التواصل معنا عبر البريد الإلكتروني: tariq.zillan@gmail.com أو واتساب: +967774722964.",
          ],
        },
        {
          question: "هل تساعدون في تطوير التطبيقات؟",
          answers: ["نعم، نحن نطور تطبيقات ويب وهواتف بأحدث التقنيات."],
        },
      ];

      function findBestMatch(query) {
        query = query.trim().toLowerCase();
        if (!query) return null;
        let bestMatch = null;
        let highestScore = 0;
        qaDatabase.forEach((qa) => {
          const question = qa.question.toLowerCase();
          let score = 0;
          const queryWords = query.split(/\s+/);
          const questionWords = question.split(/\s+/);
          queryWords.forEach((qw) => {
            if (questionWords.includes(qw)) score++;
          });
          if (score > highestScore) {
            highestScore = score;
            bestMatch = qa;
          }
        });
        if (highestScore >= 1) return bestMatch;
        return null;
      }
      function displayAnswer(ans) {
        faqResponse.textContent = ans;
        faqResponse.style.background = "var(--yellow)";
      }
      faqAskBtn.addEventListener("click", () => {
        const userQ = faqInput.value;
        if (!userQ.trim()) {
          displayAnswer("الرجاء كتابة سؤال.");
          return;
        }
        const matched = findBestMatch(userQ);
        if (matched) {
          const answer =
            matched.answers[Math.floor(Math.random() * matched.answers.length)];
          displayAnswer(answer);
        } else {
          displayAnswer(
            "عذرًا، لم أتمكن من العثور على إجابة مناسبة. يرجى التواصل معنا مباشرة."
          );
        }
      });
      faqInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          faqAskBtn.click();
        }
      });

      /* ===== Contact Form Validation & Submission ===== */
      const contactForm = document.getElementById("contact-form");
      const formFeedback = document.getElementById("form-feedback");

      contactForm.addEventListener("submit", (e) => {
        e.preventDefault();
        formFeedback.textContent = "";
        const name = contactForm.name.value.trim();
        const email = contactForm.email.value.trim();
        const message = contactForm.message.value.trim();

        if (!name || !email || !message) {
          formFeedback.textContent = "يرجى ملء جميع الحقول.";
          formFeedback.style.color = "red";
          return;
        }
        if (!validateEmail(email)) {
          formFeedback.textContent = "البريد الإلكتروني غير صحيح.";
          formFeedback.style.color = "red";
          return;
        }

        // Simulate sending form - replace with real backend integration
        formFeedback.style.color = "green";
        formFeedback.textContent =
          "تم إرسال الرسالة بنجاح! شكرًا لتواصلك معنا.";
        contactForm.reset();
      });

      function validateEmail(email) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(email.toLowerCase());
      }

      /* ===== Back To Top Button ===== */
      const backToTopBtn = document.getElementById("backToTop");
      let showBackToTop = true; // default visible

      window.addEventListener("scroll", () => {
        if (showBackToTop) {
          backToTopBtn.style.display = window.scrollY > 200 ? "block" : "none";
        } else {
          backToTopBtn.style.display = "none";
        }
      });
      backToTopBtn.addEventListener("click", () => {
        window.scrollTo({ top: 0, behavior: "smooth" });
      });

      /* ===== Developer Section w/ Password ===== */
      const dzlanAccessLink = document.getElementById("dzlan-access-link");
      const dzlanSection = document.getElementById("dzlan-section");

      let dzlanPassword = "ooxxo";
      let dzlanLoginModal, dzlanOverlay;

      function createLoginModal() {
        dzlanOverlay = document.createElement("div");
        dzlanOverlay.id = "dzlan-overlay";
        dzlanOverlay.style.display = "none";
        dzlanOverlay.style.position = "fixed";
        dzlanOverlay.style.inset = "0";
        dzlanOverlay.style.background = "rgba(0,0,0,0.75)";
        dzlanOverlay.style.zIndex = "10010";
        dzlanOverlay.addEventListener("click", () => {
          dzlanLoginModal.style.display = "none";
          dzlanOverlay.style.display = "none";
        });
        document.body.appendChild(dzlanOverlay);

        dzlanLoginModal = document.createElement("div");
        dzlanLoginModal.id = "dzlan-login";
        dzlanLoginModal.style.display = "none";
        dzlanLoginModal.style.position = "fixed";
        dzlanLoginModal.style.top = "50%";
        dzlanLoginModal.style.left = "50%";
        dzlanLoginModal.style.transform = "translate(-50%, -50%)";
        dzlanLoginModal.style.background = "var(--navy)";
        dzlanLoginModal.style.padding = "30px 30px 20px";
        dzlanLoginModal.style.borderRadius = "12px";
        dzlanLoginModal.style.boxShadow = "0 10px 30px var(--shadow)";
        dzlanLoginModal.style.maxWidth = "320px";
        dzlanLoginModal.style.zIndex = "10011";
        dzlanLoginModal.style.userSelect = "none";
        dzlanLoginModal.innerHTML = `
        <label for="dzlan-password" style="color: var(--yellow); font-weight: 700; font-size: 1.2rem; display: block; margin-bottom: 15px;">أدخل كلمة المرور للوصول إلى قسم المطور</label>
        <input type="password" id="dzlan-password" autocomplete="off" aria-label="كلمة مرور قسم ظلان" style="width:100%; padding:12px 16px; font-size:1.1rem; border-radius:14px; border:none; margin-bottom:20px; box-sizing:border-box; font-family: 'Tajawal', sans-serif" />
        <button id="dzlan-login-btn" style="width:100%; padding:12px 0; background: var(--yellow); border:none; border-radius:14px; font-weight:900; font-size:1.2rem; cursor:pointer; user-select:none;">دخول</button>
        <button id="dzlan-cancel-btn" style="margin-top:10px; background: var(--navy); color: var(--yellow); border-radius: 14px; padding: 10px 0; font-weight: 700; cursor: pointer; width:100%;">إلغاء</button>
      `;
        document.body.appendChild(dzlanLoginModal);

        dzlanLoginModal
          .querySelector("#dzlan-login-btn")
          .addEventListener("click", () => {
            const inputPwd = dzlanLoginModal
              .querySelector("#dzlan-password")
              .value.trim();
            if (inputPwd === dzlanPassword) {
              dzlanLoginModal.style.display = "none";
              dzlanOverlay.style.display = "none";
              dzlanSection.style.display = "block";
              dzlanAccessLink.style.display = "none";
              dzlanLoginModal.querySelector("#dzlan-password").value = "";
              dzlanSection.scrollIntoView({ behavior: "smooth" });
              loadSettings();
            } else {
              alert("كلمة المرور غير صحيحة.");
              dzlanLoginModal.querySelector("#dzlan-password").value = "";
              dzlanLoginModal.querySelector("#dzlan-password").focus();
            }
          });
        dzlanLoginModal
          .querySelector("#dzlan-cancel-btn")
          .addEventListener("click", () => {
            dzlanLoginModal.style.display = "none";
            dzlanOverlay.style.display = "none";
          });
      }

      dzlanAccessLink.addEventListener("click", (e) => {
        e.preventDefault();
        if (!dzlanLoginModal) createLoginModal();
        dzlanLoginModal.style.display = "block";
        dzlanOverlay.style.display = "block";
        dzlanLoginModal.querySelector("#dzlan-password").focus();
      });

      /* ===== Developer Settings ===== */
      const darkmodeToggle = document.getElementById("darkmode-toggle");
      const showBackToTopToggle = document.getElementById(
        "show-backtotop-toggle"
      );
      const showFaqAiToggle = document.getElementById("show-faqai-toggle");

      function saveSettings() {
        localStorage.setItem("md_darkmode", darkmodeToggle.checked);
        localStorage.setItem("md_showBackToTop", showBackToTopToggle.checked);
        localStorage.setItem("md_showFaqAi", showFaqAiToggle.checked);
      }
      function loadSettings() {
        const darkmode = localStorage.getItem("md_darkmode") === "true";
        const backToTop = localStorage.getItem("md_showBackToTop") !== "false";
        const faqAi = localStorage.getItem("md_showFaqAi") !== "false";

        darkmodeToggle.checked = darkmode;
        showBackToTopToggle.checked = backToTop;
        showFaqAiToggle.checked = faqAi;

        applyDarkMode(darkmode);
        toggleBackToTop(backToTop);
        toggleFaqAi(faqAi);
      }

      function applyDarkMode(enabled) {
        if (enabled) document.body.classList.add("dark");
        else document.body.classList.remove("dark");
        updateDarkToggleIcon();
      }
      function toggleBackToTop(enabled) {
        showBackToTop = enabled;
        if (!enabled) backToTopBtn.style.display = "none";
        else if (window.scrollY > 200) backToTopBtn.style.display = "block";
      }
      function toggleFaqAi(enabled) {
        showFaqAi = enabled;
        document.getElementById("faq-ai").style.display = enabled
          ? "block"
          : "none";
      }

      darkmodeToggle.addEventListener("change", () => {
        applyDarkMode(darkmodeToggle.checked);
        saveSettings();
      });
      showBackToTopToggle.addEventListener("change", () => {
        toggleBackToTop(showBackToTopToggle.checked);
        saveSettings();
      });
      showFaqAiToggle.addEventListener("change", () => {
        toggleFaqAi(showFaqAiToggle.checked);
        saveSettings();
      });

      document.getElementById("dzlan-logout").addEventListener("click", () => {
        if (confirm("هل تريد تسجيل الخروج من قسم المطور؟")) {
          dzlanSection.style.display = "none";
          dzlanAccessLink.style.display = "inline-block";
        }
      });

      /* ===== Highlight Active Section in Nav ===== */
      const navLinks = document.querySelectorAll("nav a[href^='#']");
      window.addEventListener("scroll", () => {
        let scrollPos = window.scrollY + 120;
        navLinks.forEach((link) => {
          const section = document.querySelector(link.hash);
          if (!section) return;
          if (
            section.offsetTop <= scrollPos &&
            section.offsetTop + section.offsetHeight > scrollPos
          ) {
            navLinks.forEach((l) => l.classList.remove("active"));
            link.classList.add("active");
          }
        });
      });

      /* ===== Lazy Loading Images ===== */
      document.querySelectorAll('img[loading="lazy"]').forEach((img) => {
        if ("loading" in HTMLImageElement.prototype) {
          // Native lazy loading supported
          return;
        } else {
          // Polyfill or IntersectionObserver fallback here if needed
        }
      });

      /* ===== Smooth Page Transitions (simple fade) ===== */
      document.querySelectorAll('nav a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.hash);
          if (!target) return;
          document.body.style.opacity = "0";
          setTimeout(() => {
            target.scrollIntoView({ behavior: "smooth" });
            document.body.style.opacity = "1";
          }, 300);
        });
      });

      /* ===== Initial Load ===== */
      window.addEventListener("load", () => {
        loadSettings();
      });
    </script>
  </body>
</html>
